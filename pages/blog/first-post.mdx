---
title: 最近在复习(有的没的)
description: ""
date: 2022-07-23
tag: [笔记]
---

## DOM 事件

捕获阶段 -> 目标阶段 -> 冒泡阶段

```js
// 在捕获阶段触发
const handleClick = () => {};
ele.addEventListener("click", handleClick, true);
```

- `event.target` —— 引发事件的层级最深的元素。
- `event.currentTarget`（=`this`）—— 处理事件的当前元素（具有处理程序的元素）
- `event.eventPhase` —— 当前阶段（capturing=1，target=2，bubbling=3）。

![无标题-2022-07-17-1753](https://user-images.githubusercontent.com/30540533/186438281-a22e7122-6adb-4b2d-a25b-f070e3a88c9e.png)

```js
form.onclick = function (event) {
  event.target.style.backgroundColor = "yellow";

  // chrome needs some time to paint yellow
  setTimeout(() => {
    alert("target = " + event.target.tagName + ", this=" + this.tagName);
    event.target.style.backgroundColor = "";
  }, 0);
};
```

<script type="module" src="https://unpkg.com/xy-ui"></script>

<xy-img src="https://images.pexels.com/photos/841228/pexels-photo-841228.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940" alt="image-keyboard"></xy-img>
